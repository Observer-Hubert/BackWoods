[gd_scene load_steps=27 format=3 uid="uid://caf2oimg2miey"]

[ext_resource type="Script" uid="uid://ctrpr5yxe0i0i" path="res://Scripts/GameObjects/basic_animal.gd" id="1_j8uys"]
[ext_resource type="Script" uid="uid://itqkeio8b3ey" path="res://Scripts/Resources/photo_data_resource.gd" id="2_kbkpk"]
[ext_resource type="Texture2D" uid="uid://bv01k1wevlbou" path="res://Assets/Sprites/AnimalSprites/FoxSit.png" id="3_eemfg"]
[ext_resource type="Material" uid="uid://bemxeuwh5jgyo" path="res://Assets/Materials/HighlightableObject.tres" id="4_ifxyt"]
[ext_resource type="Texture2D" uid="uid://clwopncjqapcb" path="res://Assets/Sprites/AnimalSprites/BunnyWalk.png" id="5_j8uys"]
[ext_resource type="Texture2D" uid="uid://bc1nlqbngnqnq" path="res://Assets/Sprites/Eye Indicators/Normal/eye_indicator1.png" id="6_i0sq1"]
[ext_resource type="Texture2D" uid="uid://cegjtkjbt5f5b" path="res://Assets/Sprites/Eye Indicators/Normal/eye_indicator2.png" id="7_tbd6i"]
[ext_resource type="Texture2D" uid="uid://dv0t6n71vaa4l" path="res://Assets/Sprites/Eye Indicators/Normal/eye_indicator3.png" id="8_4aqoe"]
[ext_resource type="Texture2D" uid="uid://1dxxtllvr2b0" path="res://Assets/Sprites/Eye Indicators/Normal/eye_indicator4.png" id="9_7c6hj"]
[ext_resource type="Texture2D" uid="uid://1pt6wfqeogc" path="res://Assets/Sprites/Eye Indicators/Normal/eye_indicator5.png" id="10_3kkkr"]
[ext_resource type="Texture2D" uid="uid://bjnquxjc5rnnb" path="res://Assets/Sprites/Eye Indicators/Normal/eye_indicator6.png" id="11_82lir"]
[ext_resource type="Script" uid="uid://cjvcto8x5m7el" path="res://Scripts/GameObjects/Classes/Awareness_Display.gd" id="15_r6cfd"]
[ext_resource type="Script" uid="uid://febcobub1jxx" path="res://Scripts/GameObjects/hiding_search_area.gd" id="16_rm728"]

[sub_resource type="AtlasTexture" id="AtlasTexture_lmbr4"]
atlas = ExtResource("3_eemfg")
region = Rect2(0, 0, 24, 36)

[sub_resource type="Resource" id="Resource_dl5oq"]
script = ExtResource("2_kbkpk")
texture = SubResource("AtlasTexture_lmbr4")
caption = "That's a fox!"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_hm7ag"]
size = Vector2(15, 11)

[sub_resource type="AtlasTexture" id="AtlasTexture_kbkpk"]
atlas = ExtResource("5_j8uys")
region = Rect2(0, 0, 20, 20)

[sub_resource type="AtlasTexture" id="AtlasTexture_eemfg"]
atlas = ExtResource("5_j8uys")
region = Rect2(20, 0, 20, 20)

[sub_resource type="AtlasTexture" id="AtlasTexture_ifxyt"]
atlas = ExtResource("5_j8uys")
region = Rect2(0, 20, 20, 20)

[sub_resource type="AtlasTexture" id="AtlasTexture_1u0lw"]
atlas = ExtResource("5_j8uys")
region = Rect2(20, 20, 20, 20)

[sub_resource type="AtlasTexture" id="AtlasTexture_i0sq1"]
atlas = ExtResource("5_j8uys")
region = Rect2(0, 40, 20, 20)

[sub_resource type="AtlasTexture" id="AtlasTexture_tbd6i"]
atlas = ExtResource("5_j8uys")
region = Rect2(0, 20, 20, 20)

[sub_resource type="AtlasTexture" id="AtlasTexture_4aqoe"]
atlas = ExtResource("5_j8uys")
region = Rect2(20, 20, 20, 20)

[sub_resource type="SpriteFrames" id="SpriteFrames_u4lws"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_kbkpk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_eemfg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ifxyt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1u0lw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i0sq1")
}],
"loop": true,
"name": &"Moving",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_tbd6i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4aqoe")
}],
"loop": true,
"name": &"Standing",
"speed": 5.0
}]

[sub_resource type="SpriteFrames" id="SpriteFrames_u1unb"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("6_i0sq1")
}, {
"duration": 1.0,
"texture": ExtResource("7_tbd6i")
}, {
"duration": 1.0,
"texture": ExtResource("8_4aqoe")
}, {
"duration": 1.0,
"texture": ExtResource("9_7c6hj")
}, {
"duration": 1.0,
"texture": ExtResource("10_3kkkr")
}, {
"duration": 1.0,
"texture": ExtResource("11_82lir")
}],
"loop": true,
"name": &"default",
"speed": 0.0
}]

[sub_resource type="CircleShape2D" id="CircleShape2D_g06i8"]
radius = 500.0

[node name="Rabbit" type="AnimatableBody2D" node_paths=PackedStringArray("poi_search_area", "behavior_timer", "sprite", "awareness_display", "navigation_agent")]
y_sort_enabled = true
collision_layer = 4
collision_mask = 2
sync_to_physics = false
script = ExtResource("1_j8uys")
behavior_Interval = 3.0
poi_Flag = 2
poi_search_area = NodePath("POISearchArea")
behavior_timer = NodePath("BehaviorTimer")
photo_Data = SubResource("Resource_dl5oq")
move_Speed = 125.0
accel = 130.0
sprite = NodePath("RabbitSprite")
awareness_display = NodePath("AwarenessDisplay")
navigation_agent = NodePath("NavigationAgent")

[node name="RabbitCollider" type="CollisionShape2D" parent="."]
z_as_relative = false
position = Vector2(-0.5, 10.5)
shape = SubResource("RectangleShape2D_hm7ag")

[node name="RabbitSprite" type="AnimatedSprite2D" parent="."]
y_sort_enabled = true
texture_filter = 1
texture_repeat = 1
material = ExtResource("4_ifxyt")
position = Vector2(0, 16)
sprite_frames = SubResource("SpriteFrames_u4lws")
animation = &"Moving"
offset = Vector2(0, -8)

[node name="BehaviorTimer" type="Timer" parent="."]

[node name="AwarenessDisplay" type="AnimatedSprite2D" parent="."]
z_index = 6
position = Vector2(0, -23)
sprite_frames = SubResource("SpriteFrames_u1unb")
script = ExtResource("15_r6cfd")

[node name="NavigationAgent" type="NavigationAgent2D" parent="."]
avoidance_enabled = true
radius = 25.0
max_speed = 1000.0
debug_use_custom = true

[node name="POISearchArea" type="Area2D" parent="."]
script = ExtResource("16_rm728")

[node name="POISearchCollider" type="CollisionShape2D" parent="POISearchArea"]
shape = SubResource("CircleShape2D_g06i8")
