[gd_scene load_steps=36 format=3 uid="uid://dvdp5h3m6sqd"]

[ext_resource type="Shader" uid="uid://cniu4c328lkl5" path="res://Scripts/Shaders/Fog.gdshader" id="1_cplha"]
[ext_resource type="PackedScene" uid="uid://dqdwegwkotrfu" path="res://Scenes/GameObjectScenes/tilemaps.tscn" id="1_n0bxa"]
[ext_resource type="PackedScene" uid="uid://b4djqfg5c81dk" path="res://Scenes/GameObjectScenes/camera.tscn" id="2_g8v8w"]
[ext_resource type="PackedScene" uid="uid://b51t1d6nj1g15" path="res://Scenes/GameObjectScenes/player.tscn" id="3_hxdjk"]
[ext_resource type="PackedScene" uid="uid://d12le13000kon" path="res://Scenes/GameObjectScenes/fox.tscn" id="4_knqvc"]
[ext_resource type="PackedScene" uid="uid://bvnjtysm1trou" path="res://Scenes/GameObjectScenes/reticle.tscn" id="8_tk5w5"]
[ext_resource type="PackedScene" uid="uid://bi1lilyfrxssq" path="res://Scenes/GameObjectScenes/monster.tscn" id="8_uogbx"]
[ext_resource type="PackedScene" uid="uid://c64jqfkk821sh" path="res://Scenes/GameObjectScenes/earl.tscn" id="9_hudk7"]
[ext_resource type="PackedScene" uid="uid://cqm3476fji55w" path="res://Scenes/GameObjectScenes/cutscene_manager.tscn" id="10_tn66b"]
[ext_resource type="Texture2D" uid="uid://dhcmgcflpr60" path="res://Assets/Sprites/NatureSprites/log.png" id="11_g8v8w"]
[ext_resource type="Script" uid="uid://cp4msv1oaminq" path="res://Scripts/GameObjects/Classes/AnimalInteractables/Hiding_Place.gd" id="11_knqvc"]
[ext_resource type="Texture2D" uid="uid://c3m1ua750ow66" path="res://Assets/Sprites/AnimalSprites/LogFoxHiding.png" id="12_uogbx"]
[ext_resource type="PackedScene" uid="uid://caf2oimg2miey" path="res://Scenes/GameObjectScenes/rabbit.tscn" id="14_hudk7"]
[ext_resource type="Texture2D" uid="uid://bu2fuhh81ooyo" path="res://Assets/Sprites/AnimalSprites/BunnyHoleHide.png" id="15_tn66b"]
[ext_resource type="PackedScene" uid="uid://dtrdai0y5hrhw" path="res://Scenes/GameObjectScenes/bush.tscn" id="18_d64m6"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_n0bxa"]
vertices = PackedVector2Array(882.352, -137.031, 894.633, 206.008, -932.891, 208.977, -929.102, -142.961)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2), PackedInt32Array(3, 0, 2)])
outlines = Array[PackedVector2Array]([PackedVector2Array(892, -147, 905, 216, -943, 219, -939, -153)])
sample_partition_type = 1
baking_rect = Rect2(-1000, -250, 2000, 500)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_w7b3h"]
noise_type = 3
frequency = 0.0063

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_htmaa"]
seamless = true
noise = SubResource("FastNoiseLite_w7b3h")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_6c38j"]
shader = ExtResource("1_cplha")
shader_parameter/noise_texture = SubResource("NoiseTexture2D_htmaa")
shader_parameter/fog_slowness = 25.0
shader_parameter/min_fog_mod = 0.22
shader_parameter/max_fog_mod = 0.49
shader_parameter/fog_color = Color(0.335432, 0.171659, 1, 1)

[sub_resource type="AtlasTexture" id="AtlasTexture_hudk7"]
atlas = ExtResource("12_uogbx")
region = Rect2(0, 0, 150, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_tn66b"]
atlas = ExtResource("12_uogbx")
region = Rect2(150, 0, 150, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_r2ljc"]
atlas = ExtResource("12_uogbx")
region = Rect2(300, 0, 150, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_6jsjq"]
atlas = ExtResource("12_uogbx")
region = Rect2(450, 0, 150, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_f3xrs"]
atlas = ExtResource("12_uogbx")
region = Rect2(600, 0, 150, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_k0r61"]
atlas = ExtResource("12_uogbx")
region = Rect2(750, 0, 150, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_1mas5"]
atlas = ExtResource("12_uogbx")
region = Rect2(900, 0, 150, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_knqvc"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_hudk7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tn66b")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_r2ljc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6jsjq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f3xrs")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_k0r61")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1mas5")
}],
"loop": false,
"name": &"Hide",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("11_g8v8w")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_uogbx"]
size = Vector2(18, 4)

[sub_resource type="AtlasTexture" id="AtlasTexture_u56lp"]
atlas = ExtResource("15_tn66b")
region = Rect2(0, 0, 40, 40)

[sub_resource type="AtlasTexture" id="AtlasTexture_l7vmt"]
atlas = ExtResource("15_tn66b")
region = Rect2(40, 0, 40, 40)

[sub_resource type="AtlasTexture" id="AtlasTexture_6u6kh"]
atlas = ExtResource("15_tn66b")
region = Rect2(80, 0, 40, 40)

[sub_resource type="AtlasTexture" id="AtlasTexture_dpn7n"]
atlas = ExtResource("15_tn66b")
region = Rect2(120, 0, 40, 40)

[sub_resource type="AtlasTexture" id="AtlasTexture_2ohwx"]
atlas = ExtResource("15_tn66b")
region = Rect2(160, 0, 40, 40)

[sub_resource type="AtlasTexture" id="AtlasTexture_jywxe"]
atlas = ExtResource("15_tn66b")
region = Rect2(160, 0, 40, 40)

[sub_resource type="SpriteFrames" id="SpriteFrames_l88fr"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_u56lp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_l7vmt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6u6kh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dpn7n")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2ohwx")
}],
"loop": false,
"name": &"Hide",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_jywxe")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[node name="Forest_Scene" type="Node2D"]
process_mode = 1
y_sort_enabled = true

[node name="Tilemaps" parent="." instance=ExtResource("1_n0bxa")]

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
y_sort_enabled = true
navigation_polygon = SubResource("NavigationPolygon_n0bxa")

[node name="Camera" parent="." instance=ExtResource("2_g8v8w")]

[node name="CanvasModulate" type="CanvasModulate" parent="."]
visible = false
material = SubResource("ShaderMaterial_6c38j")
color = Color(0.099986, 0.099986, 0.099986, 1)

[node name="Fox" parent="." instance=ExtResource("4_knqvc")]
position = Vector2(-20, 117)

[node name="Bush" parent="." instance=ExtResource("18_d64m6")]
position = Vector2(107, 105)

[node name="Reticle" parent="." instance=ExtResource("8_tk5w5")]
position = Vector2(1000, 1000)

[node name="Player" parent="." instance=ExtResource("3_hxdjk")]

[node name="Monster" parent="." instance=ExtResource("8_uogbx")]
position = Vector2(594, -44)

[node name="Earl" parent="." instance=ExtResource("9_hudk7")]
position = Vector2(-167, 60)

[node name="CutsceneManager" parent="." instance=ExtResource("10_tn66b")]

[node name="Bush2" parent="." instance=ExtResource("18_d64m6")]
position = Vector2(-182, 100)

[node name="Bush3" parent="." instance=ExtResource("18_d64m6")]
position = Vector2(280, 121)

[node name="Log" type="StaticBody2D" parent="." node_paths=PackedStringArray("sprite")]
y_sort_enabled = true
position = Vector2(-306, -28)
script = ExtResource("11_knqvc")
sprite = NodePath("LogSprite")
valid_Hiders = 1

[node name="LogSprite" type="AnimatedSprite2D" parent="Log"]
y_sort_enabled = true
position = Vector2(0, 13)
sprite_frames = SubResource("SpriteFrames_knqvc")
offset = Vector2(0, -13)

[node name="LogCollider" type="CollisionShape2D" parent="Log"]
position = Vector2(31, 10.25)
shape = SubResource("RectangleShape2D_uogbx")

[node name="HideEntry" type="Node2D" parent="Log"]
position = Vector2(-63, 0)

[node name="NavigationObstacle2D" type="NavigationObstacle2D" parent="Log"]
position = Vector2(31, 10)
radius = 30.97

[node name="Rabbit" parent="." instance=ExtResource("14_hudk7")]
position = Vector2(99, 125)
hiding_Place_Flag = 2

[node name="RabbitHole" type="StaticBody2D" parent="." node_paths=PackedStringArray("sprite")]
y_sort_enabled = true
position = Vector2(-306, 122)
script = ExtResource("11_knqvc")
sprite = NodePath("HoleSprite")
valid_Hiders = 4

[node name="HoleSprite" type="AnimatedSprite2D" parent="RabbitHole"]
y_sort_enabled = true
position = Vector2(0, 13)
sprite_frames = SubResource("SpriteFrames_l88fr")
offset = Vector2(0, -13)

[node name="HoleCollider" type="CollisionShape2D" parent="RabbitHole"]
position = Vector2(9, 13)
shape = SubResource("RectangleShape2D_uogbx")

[node name="HideEntry" type="Node2D" parent="RabbitHole"]
position = Vector2(-13, 10)

[node name="NavigationObstacle2D" type="NavigationObstacle2D" parent="RabbitHole"]
position = Vector2(9, 13)
radius = 6.63
